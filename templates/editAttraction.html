{% extends "main.html" %}
{% block content %}
{% include "header.html" %}
	<div class="row banner">
		<div class="col-md-11 col-md-offset-1 padding-none">
			<h1>Edit Attraction</h1>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6 col-md-offset-1 padding-top">
			<form action="#" method = "post">
				<div class="form-group">
					<label for="name">Name:</label>
					<input type ="text" maxlength="100" class="form-control" name="name" value="{{item.name }}">

					<label for="description">Description:</label>
					<textarea class="form-control" maxlength="250" rows="3" name="description">{{item.description}}</textarea>

					<label for="price">Price:</label>
					<div class="input-group">
						<div class="input-group-addon">Â£</div>
						<input type ="text" maxlength="10" class="form-control" name="price" value="{{item.price}}">
					</div>
				</div>
					<button type="submit" class="btn btn-default" id="submit" type="submit">
					<span aria-hidden="true"></span>Save</button>
					<a href = '{{url_for('showDestinations')}}'>
						<button class="btn btn-default delete">
						<span aria-hidden="true"></span> Cancel</button>
					</a>
					<button type="submit" class="btn btn-default" id="delete" type="submit">
						<span aria-hidden="true"></span>Delete</button>
				</div>
			</form>
		</div>
	</div>
<script>
	    document.getElementById('delete').addEventListener('click', function(event) {
        console.log(event)
        var pathname = window.location.pathname
        console.log(pathname)
        
        $.ajax({
            type: "DELETE",
            url: pathname,
            success: function(){
                location.href = "/destination/";
            }
        });
    })
</script>
{% endblock %}